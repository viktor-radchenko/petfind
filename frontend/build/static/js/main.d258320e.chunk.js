(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{49:function(e,t,a){},60:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),c=a.n(n),r=a(22),i=a.n(r),l=(a(49),a(3)),o=a(6),d=a(4),u=a(8),j=a(38),b=a(5),m=a.n(b),h=a(7),p=a(39),O=Object(p.createAuthProvider)({accessTokenKey:"access_token",onUpdateToken:function(e){return fetch("/api/auth/refresh",{method:"POST",body:e.access_token}).then((function(e){return e.json()}))}}),_=Object(l.a)(O,4),g=_[0],x=_[1],f=_[2],N=_[3],v=function(){var e=Object(h.a)(m.a.mark((function e(t,a,s,n,c,r,i,l,o,d,u,j){var b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(b=new FormData).append("tagId",t.toUpperCase()),b.append("tagName",a),b.append("tagImage",s),b.append("firstName",n),b.append("lastName",c),b.append("phone",r),b.append("email",i),b.append("address",l),b.append("city",o),b.append("country",d),b.append("zipCode",u),b.append("userState",j),e.next=15,fetch("/api/auth/register",{method:"POST",body:b});case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})));return function(t,a,s,n,c,r,i,l,o,d,u,j){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth/resend_registration_email",{method:"POST",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://geolocation-db.com/json/".concat("c0593a60-4159-11eb-80cd-db15f946225f")).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(h.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/registered_tag/".concat(t),{method:"post",body:JSON.stringify(a)}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(m.a.mark((function e(t,a,s,n,c){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("name",t),r.append("phone_number",a),r.append("text",s),r.append("tag_id",n.toUpperCase()),r.append("ip_address",c.IPv4),r.append("zip_code",c.postal),r.append("lat",c.latitude),r.append("lon",c.longitude),r.append("city",c.city),e.next=12,fetch("/api/send_private_message",{method:"post",body:r}).then((function(e){return e.json()}));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,a,s,n,c){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(m.a.mark((function e(t,a,s){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("name",t),n.append("email",a),n.append("message",s),e.next=6,fetch("/api/contact_form",{method:"post",body:n}).then((function(e){return e.json()}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(m.a.mark((function e(t,a){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("tag_name",a.tagName),s.append("tag_image",a.tagImage),s.append("phone",a.phone),s.append("email",a.email),s.append("address",a.address),s.append("city",a.city),s.append("country",a.country),s.append("zip_code",a.zipCode),s.append("state",a.userState),s.append("status",a.tagStatus),s.append("is_private",a.isPrivate),e.next=14,x("/api/registered_tag/modify/".concat(t),{method:"POST",body:s});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(h.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("tag_id",t.tagId.toUpperCase()),a.append("tag_name",t.tagName),a.append("tag_image",t.tagImage),a.append("phone",t.phone),a.append("email",t.email),a.append("address",t.address),a.append("city",t.city),a.append("country",t.country),a.append("zip_code",t.zipCode),a.append("state",t.userState),a.append("status",t.tagStatus),e.next=14,x("/api/registered_tag/add_new",{method:"POST",body:a});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("/api/registered_tag/delete/".concat(t),{method:"DELETE"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(h.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("email",t),e.next=4,fetch("/api/auth/forgot_password",{method:"POST",body:a});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(m.a.mark((function e(t,a,s){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("token",s),n.append("password",t),n.append("password_confirmation",a),e.next=6,fetch("/api/auth/verify_reset",{method:"POST",body:n});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),q=function(){var e=Object(h.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("first_name",t.firstName),a.append("last_name",t.lastName),a.append("phone",t.phone),a.append("address",t.address),a.append("city",t.city),a.append("country",t.country),a.append("zip_code",t.zipCode),a.append("state",t.userState),a.append("old_password",t.oldPassword),a.append("new_password",t.newPassword),e.next=13,x("/api/auth/update_profile",{method:"POST",body:a});case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D="data:image/jpeg;base64,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";var W=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),i=Object(l.a)(r,2),o=i[0],d=i[1],j=$e(),b=Object(l.a)(j,2),m=(b[0],b[1]),h=Object(u.g)();return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("form",{className:"id-form",onSubmit:function(){m({type:"REGISTER_TAG_ID",payload:a}),h.push("/register_tag")},children:[Object(s.jsx)("div",{className:"id-form__box",children:Object(s.jsx)("input",{className:"id-form__input",type:"text",maxLength:"8",placeholder:"Enter Tag ID",value:a,onChange:function(e){return c(e.target.value.toUpperCase())}})}),Object(s.jsx)("button",{className:"id-form__btn",type:"submit",children:"Register item"}),Object(s.jsxs)("div",{className:"tooltip-tag",children:[Object(s.jsx)("button",{className:"tooltip-tag__icon",type:"button",onClick:function(e){return function(e){e.target.focus(),d(!0)}(e)},onBlur:function(e){d(!1)}}),o&&Object(s.jsxs)("div",{className:"tooltip-tag__id",children:[Object(s.jsxs)("div",{className:"tooltip-tag__text",children:["The ",Object(s.jsx)("span",{children:"six digit number on the back of the tag"})," is your items unique code that is used to find it if it ever go missing"]}),Object(s.jsx)("div",{className:"tooltip-tag__img",children:Object(s.jsx)("img",{src:D,alt:""})}),Object(s.jsx)("span",{className:"tooltip-tag__link",children:"Example of a 6 digit Tag-ID"})]})]})]})})},R=(a(60),a.p+"static/media/logo2.abfa5a94.png");var U=function(){var e=g(),t=Object(l.a)(e,1)[0],a=Object(n.useState)(!1),c=Object(l.a)(a,2),r=c[0],i=c[1];return Object(s.jsx)("header",{className:"header",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("nav",{className:"header__inner",children:[Object(s.jsx)(d.b,{className:"logo",to:"/",onClick:function(){return i(!1)},children:Object(s.jsx)("img",{src:R,alt:"logotype"})}),Object(s.jsxs)("ul",{className:r?"menu menu--active":"menu",children:[Object(s.jsx)("li",{className:"menu__item",children:Object(s.jsx)(d.b,{className:"menu__link",to:"/contact-us",onClick:function(){return i(!1)},children:"Contact Us"})}),t?null:Object(s.jsx)("li",{className:"menu__item",children:Object(s.jsx)(d.b,{className:"menu__link",to:"/login",children:"Login"})}),t?Object(s.jsx)("div",{className:"menu-dashboard",children:Object(s.jsx)(d.b,{className:"menu-dashboard__loggedin",to:"/dashboard",children:"Dashboard"})}):Object(s.jsx)("li",{className:"menu__item menu__item--form",children:Object(s.jsx)(W,{})})]}),Object(s.jsx)("button",{className:r?"burger-btn burger-btn--active":"burger-btn",onClick:function(){return i(!r)},children:"Burger Button"})]})})})},B=a(40),M=a.n(B),z=a(20),F=a.n(z),V=(a(80),a(81),{desktop:{breakpoint:{max:3e3,min:1024},items:3,slidesToSlide:3},tablet:{breakpoint:{max:1024,min:464},items:2,slidesToSlide:2},mobile:{breakpoint:{max:464,min:0},items:1,slidesToSlide:1}}),Q=function(e){var t=e.next,a=e.previous;return Object(s.jsxs)("div",{className:"tags__nav",children:[Object(s.jsx)("button",{className:"tags__btn tags__btn--prev",onClick:function(){return a()}}),Object(s.jsx)("button",{className:"tags__btn tags__btn--next",onClick:function(){return t()}})]})},L=function(e){var t=e.type,a=Object(n.useState)([]),c=Object(l.a)(a,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/merchandize").then((function(e){return e.json()})).then((function(e){return i(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(s.jsxs)(s.Fragment,{children:["dashboard"===t&&Object(s.jsx)(F.a,{className:"buy-tags__content",infinite:!0,focusOnSelect:!1,responsive:V,children:r.map((function(e){return Object(s.jsxs)("div",{className:"tag-card",children:[Object(s.jsxs)("div",{className:"tag-card__top",children:[Object(s.jsx)("div",{className:"tag-card__img",children:Object(s.jsx)("img",{src:e.imgUrl,alt:"tag"})}),Object(s.jsx)("span",{className:"tag-card__title",children:e.title}),Object(s.jsx)("span",{className:"tag-card__desc",children:e.subtitle}),Object(s.jsx)("a",{href:e.url,className:"tag-link",children:" "})]}),Object(s.jsxs)("a",{className:"tag-card__btn",href:e.url,children:["Buy for $",e.price]})]},e.id)}))}),Object(s.jsx)("div",{className:"tags__top",children:Object(s.jsxs)("div",{className:"tags__text",children:[Object(s.jsx)("span",{className:"title tags__title",children:"Need a tag?"}),Object(s.jsx)("span",{className:"tags__label",children:"Choose a Tag, which is perfect for your items"})]})}),Object(s.jsx)(F.a,{className:"tags__bottom",arrows:!1,infinite:!0,focusOnSelect:!1,renderButtonGroupOutside:!0,responsive:V,customButtonGroup:Object(s.jsx)(Q,{}),children:r.map((function(e){return Object(s.jsxs)("div",{className:"tag-card",children:[Object(s.jsxs)("div",{className:"tag-card__top",children:[Object(s.jsx)("div",{className:"tag-card__img",children:Object(s.jsx)("img",{src:e.imgUrl,alt:"tag"})}),Object(s.jsx)("span",{className:"tag-card__title",children:e.title}),Object(s.jsx)("span",{className:"tag-card__desc",children:e.subtitle}),Object(s.jsx)("a",{href:e.url,className:"tag-link",children:" "})]}),Object(s.jsxs)("a",{className:"tag-card__btn",href:e.url,children:["Buy for $",e.price]})]},e.id)}))}),Object(s.jsx)("a",{className:"tags__more",href:"https://shop.tracereturn.com",children:"See All"})]})},H=a(25),J=document.getElementById("modal-root");function G(e,t){var a=e.children,c=e.header,i=e.defaultOpened,o=void 0!==i&&i,d=Object(n.useState)(o),u=Object(l.a)(d,2),j=u[0],b=u[1];Object(n.useImperativeHandle)(t,(function(){return{open:function(){return b(!0)},close:function(){return b(!1)}}}));var m=function(){b(!1)},h=Object(n.useCallback)((function(e){27===e.keyCode&&b(!1)}),[]);return Object(n.useEffect)((function(){var e=window.scrollY;return j&&(window.addEventListener("keydown",h,!1),document.body.setAttribute("style","position: fixed; top: -".concat(e,"px; left: 0; right: 0;"))),function(){window.removeEventListener("keydown",h,!1),document.body.setAttribute("style",""),window.scrollTo(0,e)}}),[h,j]),Object(r.createPortal)(j?Object(s.jsxs)("div",{className:"modal",children:[Object(s.jsxs)("div",{className:"modal__inner",children:[Object(s.jsxs)("div",{className:"modal__header",children:[Object(s.jsx)("span",{className:"title title--modal",children:c}),Object(s.jsx)("button",{className:"close",onClick:m,children:"close"})]}),a]}),Object(s.jsx)("div",{onClick:m,className:"modal__overlay"})]}):null,J)}var Z=Object(n.forwardRef)(G),K=a(14),Y=function(e){var t={};return e.name||(t.name="Name is required"),e.phone?/\+(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*(\d{1,2})$/.test(e.phone)||(t.phone="Phone number is invalid"):t.phone="Phone number required",e.text||(t.text="Message text is required"),t};var X=function(e){var t=e.tagId,a=Object(n.useState)(""),c=Object(l.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),d=Object(l.a)(o,2),j=d[0],b=d[1],m=Object(n.useState)(""),h=Object(l.a)(m,2),p=h[0],O=h[1],_=Object(n.useState)(""),g=Object(l.a)(_,2),x=g[0],f=g[1],N=Object(n.useState)({}),v=Object(l.a)(N,2),y=v[0],w=v[1],A=Object(u.g)(),k=$e(),S=Object(l.a)(k,1)[0],I=function(e){e.preventDefault();var a=Y({name:r,phone:j,text:p});if(0===Object.keys(a).length&&a.constructor===Object){var s=S.location;C(r,j,p,t,s).then((function(e){if(e.error)throw Error(e.error);"ok"===e.status&&(O(""),b(""),i(""),f("You message has been sent!")),A.push("/"),setTimeout((function(){return window.location.reload()}),1e3)})).catch((function(e){return alert(e)}))}else w(a)};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"modal__content",children:x?Object(s.jsx)("div",{className:"contac-owner__confirmation",children:x}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"contact-owner__notice",children:Object(s.jsx)("p",{children:"Your Information will beprivate and confidential. Spamming of any kind is strictly prohibited and will be reported."})}),Object(s.jsxs)("form",{className:"contact-owner__form",onSubmit:I,children:[Object(s.jsxs)("label",{className:"label contact-owner__label",children:[Object(s.jsx)("span",{children:"Name"}),Object(s.jsx)("input",{className:"input contact-owner__input",type:"text",name:"name",value:r,onChange:function(e){return i(e.target.value)}})]}),y.name&&Object(s.jsx)("div",{className:"input-error",children:y.name}),Object(s.jsxs)("label",{className:"label contact-owner__label",children:[Object(s.jsx)("span",{children:"Phone Number"}),Object(s.jsx)(K.a,{required:"required",className:"input contact-owner__input",type:"tel",name:"phone",placeholder:"(123) 456 78 90 ",defaultCountry:"US",value:j,onChange:b})]}),y.phone&&Object(s.jsx)("div",{className:"input-error",children:y.phone}),Object(s.jsxs)("label",{className:"label contact-owner__label",children:[Object(s.jsx)("span",{children:"Message"}),Object(s.jsx)("textarea",{className:"textarea contact-owner__textarea",name:"text",value:p,onChange:function(e){return O(e.target.value)}})]}),y.text&&Object(s.jsx)("div",{className:"input-error",children:y.text})]})]})}),!x&&Object(s.jsx)("div",{className:"modal__footer",children:Object(s.jsx)("button",{className:"button",type:"submit",onClick:I,children:"Send Message"})})]})};var $=function(e){var t=e.lookUpData.data,a=t.tag_image,n=t.tag_id,c=t.tag_name,r=t.name,i=t.phone,l=t.email,o=t.address;return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"search-enabled",children:[Object(s.jsx)("span",{className:"title title--modal search-enabled__title",children:"Found the Owner"}),Object(s.jsxs)("div",{className:"search-enabled__box",children:[Object(s.jsx)("div",{className:"search-enabled__avatar",children:Object(s.jsx)("img",{src:"/uploads/tag_image/".concat(a),alt:""})}),Object(s.jsxs)("div",{className:"search-enabled__info",children:[Object(s.jsx)("span",{className:"search-enabled__tag",children:n}),Object(s.jsxs)("span",{className:"search-enabled__name",children:["Item name: ",Object(s.jsx)("span",{children:c})]})]})]}),Object(s.jsxs)("ul",{className:"search-enabled__list",children:[Object(s.jsxs)("li",{className:"search-enabled__item",children:[Object(s.jsx)("span",{className:"search-enabled__cell search-enabled__cell--owner",children:"Owner Name"}),Object(s.jsx)("span",{className:"search-enabled__content",children:r})]}),Object(s.jsxs)("li",{className:"search-enabled__item",children:[Object(s.jsx)("span",{className:"search-enabled__cell search-enabled__cell--phone",children:"Phone Number"}),Object(s.jsx)("a",{className:"search-enabled__content",href:"tel:".concat(i),children:i})]}),Object(s.jsxs)("li",{className:"search-enabled__item",children:[Object(s.jsx)("span",{className:"search-enabled__cell search-enabled__cell--email",children:"Email Address"}),Object(s.jsx)("a",{className:"search-enabled__content",href:"mailto:".concat(l),children:l})]}),Object(s.jsxs)("li",{className:"search-enabled__item",children:[Object(s.jsx)("span",{className:"search-enabled__cell search-enabled__cell--address",children:"Address"}),Object(s.jsx)("span",{className:"search-enabled__content",children:o})]})]})]})})};a(82);function ee(){return Object(s.jsxs)("div",{className:"spinner",children:[Object(s.jsx)("div",{className:"bounce1"}),Object(s.jsx)("div",{className:"bounce2"}),Object(s.jsx)("div",{className:"bounce3"})]})}var te=function(){var e=$e(),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),i=Object(l.a)(r,2),o=i[0],d=i[1],j=Object(n.useState)(!1),b=Object(l.a)(j,2),m=b[0],h=b[1],p=Object(n.useState)(null),O=Object(l.a)(p,2),_=O[0],g=O[1],x=Object(n.useState)(""),f=Object(l.a)(x,2),N=f[0],v=f[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),C=w[0],k=w[1],S=Object(n.useState)(0),I=Object(l.a)(S,2),E=I[0],P=I[1],T=Object(u.h)().tagIdFromRequest,q=Object(u.g)(),W=Object(n.useRef)(null),R=Object(n.useRef)(null);Object(n.useEffect)((function(){_&&"found"===_.status&&R.current.open()}),[_]),Object(n.useEffect)((function(){T&&a.location&&(T.length>=3&&C||T.length>=3&&E<2)&&(h(!0),A(T.toUpperCase(),a.location).then((function(e){"private"===e.status&&(v(T),W.current.open()),"found"===e.status&&g(e),"na"===e.status&&(g(e),q.push("/")),"reg"===e.status&&(c({type:"REGISTER_TAG_ID",payload:T}),q.push("/register_tag"))})),h(!1))}),[T,a.location]);var U=function(){v(""),g(null)};return Object(s.jsxs)(s.Fragment,{children:[E>2&&N.length>=3&&Object(s.jsx)("div",{className:"captcha",children:Object(s.jsx)(H.a,{sitekey:"6Lf3IUAaAAAAAERWg-zwGVTCAyVdEiBZtuEbjjAx",onChange:function(e){k(e),P(0)}})}),Object(s.jsxs)("form",{className:"id-form",onSubmit:function(e){e.preventDefault(),function(e){P(E+1),E>2&&""===C?g({message:"Please confirm you are not a robot",status:"captcha"}):(e.length>=3&&C||e.length>=3&&E<2)&&(h(!0),A(e.toUpperCase(),a.location).then((function(e){return g(e)})),h(!1))}(N)},children:[Object(s.jsx)("div",{className:"id-form__box",children:Object(s.jsx)("input",{className:"id-form__input",maxLength:"8",type:"text",placeholder:"Enter Tag ID",value:N,onChange:function(e){v(e.target.value.toUpperCase())}})}),Object(s.jsxs)("div",{className:"tooltip-tag",children:[Object(s.jsx)("button",{type:"button",className:"tooltip-tag__icon",onClick:function(e){return function(e){e.target.focus(),d(!0)}(e)},onBlur:function(){d(!1)}}),o&&Object(s.jsxs)("div",{className:"tooltip-tag__id",children:[Object(s.jsxs)("div",{className:"tooltip-tag__text",children:["The ",Object(s.jsx)("span",{children:"six digit number on the back of the tag"})," is your items unique code that is used to find it if it ever go missing"]}),Object(s.jsx)("div",{className:"tooltip-tag__img",children:Object(s.jsx)("img",{src:D,alt:""})}),Object(s.jsx)("span",{className:"tooltip-tag__link",children:"Example of a 6 digit Tag-ID"})]})]}),Object(s.jsx)("button",{className:"id-form__btn id-form__btn--search",type:"submit",children:m?Object(s.jsx)(ee,{}):"Search the owner"})]}),Object(s.jsxs)("div",{className:"modal__wrapper",children:[_&&"captcha"===_.status&&Object(s.jsxs)("div",{className:"modal-disabled",children:[Object(s.jsx)("span",{className:"modal-disabled__title",children:"Pleae confirm you are not a robot"}),Object(s.jsx)("button",{className:"close modal-disabled__close",type:"button",onClick:U,children:"Close"}),Object(s.jsx)("span",{className:"modal-disabled__desc",children:"Click on the icon above and try again!"})]}),_&&("na"===_.status||"reg"===_)&&Object(s.jsxs)("div",{className:"modal-disabled",children:[Object(s.jsx)("span",{className:"modal-disabled__title",children:"No such Tag ID"}),Object(s.jsx)("button",{className:"close modal-disabled__close",type:"button",onClick:U,children:"Close"}),Object(s.jsx)("span",{className:"modal-disabled__desc",children:"Check your input and try again!"})]}),_&&"private"===_.status&&Object(s.jsxs)("div",{className:"modal-private",children:[Object(s.jsx)("span",{className:"modal-private__title",children:"This ID is Private"}),Object(s.jsx)("button",{className:"close modal-private__\u0441lose",type:"button",onClick:U,children:"Close"}),Object(s.jsx)("span",{className:"modal-private__desc",children:"But you can always reach the owner through us!"}),Object(s.jsx)("button",{className:"modal-private__btn",type:"button",onClick:function(){return W.current.open()},children:"Contact Owner"})]}),_&&"disabled"===_.status&&Object(s.jsxs)("div",{className:"modal-disabled",children:[Object(s.jsx)("span",{className:"modal-disabled__title",children:"This ID is Disabled"}),Object(s.jsx)("button",{className:"close modal-disabled__close",type:"button",onClick:U,children:"Close"}),Object(s.jsx)("span",{className:"modal-disabled__desc",children:"Sorry! We will let the owner know"})]})]}),Object(s.jsx)(Z,{ref:W,header:"Contact Owner",children:Object(s.jsx)(X,{tagId:N})}),Object(s.jsx)(Z,{ref:R,header:"Contact Owner",children:Object(s.jsx)($,{lookUpData:_})})]})};var ae=function(){var e=Object(n.useState)(1),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(s.jsxs)("main",{children:[Object(s.jsx)("section",{className:"connect",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"connect__inner",children:[Object(s.jsxs)("div",{className:"connect__content",children:[Object(s.jsx)("span",{className:"title connect__title",children:"Connecting Lost and Found"}),Object(s.jsx)("div",{className:"connect__text",children:Object(s.jsx)("p",{children:"Trace and Return helps you get lost items back home safe, sound and soon. Whether you have found an item or lost one, we're here to help!"})}),Object(s.jsx)("span",{className:"connect__subtitle",children:"Found a Lost item?"}),Object(s.jsx)("span",{className:"connect__label",children:"Enter the unique code on the back of the tag"}),Object(s.jsx)(te,{})]}),Object(s.jsx)("div",{className:"connect__img"})]})})}),Object(s.jsxs)("section",{className:"mode",children:[Object(s.jsx)("span",{className:"title mode__title",children:"Here\u2019s how it works"}),Object(s.jsxs)("ul",{className:"tabs",children:[Object(s.jsx)("li",{className:"tabs__item ".concat(1===a?"tabs__item--active":null),onClick:function(){return c(1)},children:"for owner"}),Object(s.jsx)("li",{className:"tabs__item ".concat(2===a?"tabs__item--active":null),onClick:function(){return c(2)},children:"for founder"})]}),Object(s.jsxs)("div",{className:"tabs__content",children:[1===a&&Object(s.jsxs)("ul",{className:"mode__advantages",children:[Object(s.jsx)("li",{className:"mode__item",children:"Secure your pets and stuff with tags and stickers"}),Object(s.jsx)("li",{className:"mode__item",children:"Get notifications when someone searches for your lost item"}),Object(s.jsx)("li",{className:"mode__item",children:"Privacy: make your contact info private"})]}),2===a&&Object(s.jsxs)("ul",{className:"mode__advantages",children:[Object(s.jsx)("li",{className:"mode__item",children:"Find the owner's contact info instantly"}),Object(s.jsx)("li",{className:"mode__item",children:"Send messages to owners of the lost item"}),Object(s.jsx)("li",{className:"mode__item",children:"Email us when you return a lost item for a reward"})]})]}),Object(s.jsx)("div",{className:"mode__video",children:Object(s.jsx)(M.a,{url:"https://www.youtube.com/watch?v=RQELVJHn1Hc",controls:!0,className:"mode__link"})}),Object(s.jsx)(W,{})]}),Object(s.jsx)("section",{className:"tags",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"tags__inner",children:Object(s.jsx)(L,{type:"home"})})})})]})},se=a.p+"static/media/logo.6b914327.png";var ne=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],j=i[1],b=Object(n.useState)(""),m=Object(l.a)(b,2),h=m[0],p=m[1],O=g(),_=Object(l.a)(O,1)[0],x=Object(u.g)();return _&&x.push("/dashboard"),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d.b,{className:"full-logo",to:"/",children:Object(s.jsx)("img",{src:se,alt:"full logo"})}),Object(s.jsxs)("div",{className:"auth",children:[Object(s.jsx)("span",{className:"auth__subtitle",children:"Welcome back!"}),Object(s.jsx)("span",{className:"title auth__title",children:"Login your account"}),Object(s.jsxs)("form",{className:"auth__form",action:"#",children:[Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Email Address"}),Object(s.jsx)("input",{className:"input auth__input",type:"email",onChange:function(e){c(e.target.value)},value:a})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Password"}),Object(s.jsx)("input",{className:"input auth__input",type:"password",onChange:function(e){j(e.target.value)},value:o})]}),h&&Object(s.jsx)("div",{className:"input-error",children:h.message}),Object(s.jsxs)("div",{className:"auth__password",children:[Object(s.jsxs)("label",{className:"label auth__label",children:[Object(s.jsx)("input",{className:"input auth__input-checkbox",type:"checkbox"}),Object(s.jsx)("span",{className:"auth__checkbox"}),Object(s.jsx)("span",{className:"auth__text",children:"Remember me"})]}),Object(s.jsx)(d.b,{className:"auth__forgot",to:"/auth/forgot_password",children:"Forgot your password?"})]}),Object(s.jsx)("button",{className:"button",type:"submit",onClick:function(e){e.preventDefault();var t={username:a,password:o};fetch("/api/auth/login",{method:"post",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.access_token?f(e):p(e)})).catch((function(e){return console.log(e)}))},children:"Login"}),Object(s.jsxs)("span",{className:"auth__sign-up",children:["No account yet?",Object(s.jsx)(d.b,{className:"auth__forgot",to:"/register_tag",children:" Sign up"})]})]})]})]})},ce=a(21),re=a(12),ie=function(e){var t={};return e.tagId||(t.tagId="Tag ID is required"),e.tagName||(t.tagName="Tag Name is required"),e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email required",e.phone?/\+(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*(\d{1,2})$/.test(e.phone)||(t.phone="Phone number is invalid"):t.phone="Phone number required",t},le=a.p+"static/media/add-photo.8d5c6ed9.svg",oe={tagId:"",tagName:"",tagIdMessage:"",tagIdIsValid:!1,tagImage:null,email:"",address:"",city:"",country:"",zipCode:"",userState:""};function de(e,t){var a=t.field,s=t.value;return Object(o.a)(Object(o.a)({},e),{},Object(re.a)({},a,s))}var ue=function(){var e=Object(n.useReducer)(de,oe),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({}),i=Object(l.a)(r,2),o=i[0],d=i[1],u=Object(n.useState)(""),j=Object(l.a)(u,2),b=j[0],p=j[1],O=a.tagId,_=a.tagIdIsValid,g=a.tagIdMessage,f=a.tagName,v=a.tagImage,y=a.email,w=a.address,A=a.city,C=a.country,k=a.zipCode,S=a.userState;Object(n.useEffect)((function(){x("/api/auth/get_user_data").then((function(e){if(401===e.status)throw new Error("Sorry you aren't authorized!");return e.json()})).then((function(e){var t={email:e.email,address:e.address,city:e.city,country:e.country,zipCode:e.zip_code,userState:e.state};for(var a in t)c({field:a,value:t[a]});p(e.phone)})).catch((function(e){alert(e.message),N()}))}),[]),Object(n.useEffect)((function(){O.length>=3?function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/tag-id-lookup/".concat(O.toUpperCase())).then((function(e){return e.json()})).then((function(e){return e.message}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){c({field:"tagIdMessage",value:e}),"Available"===e&&c({field:"tagIdIsValid",value:!0})})):(c({field:"tagIdIsValid",value:!1}),c({field:"tagIdMessage",value:""}))}),[O]);var E=function(e){c({field:e.target.name,value:e.target.value})};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"edit-tag__switch",children:"Item Details"}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={tagId:O,tagName:f,tagImage:v,email:y,phone:b,address:w,city:A,country:C,zipCode:k,userState:S},a=ie(t);0===Object.keys(a).length&&a.constructor===Object?I(t).then((function(e){return e.json()})).then((function(e){if(e.error)throw Error(e.error);window.location.reload()})).catch((function(e){return alert(e)})):d(a)},autoComplete:"off",children:[Object(s.jsxs)("div",{className:"modal__content",children:[Object(s.jsxs)("div",{className:"register-item__box",children:[Object(s.jsxs)("div",{className:"register-item__img",children:[Object(s.jsx)("span",{children:"Add an Image"}),Object(s.jsx)("img",{src:v?URL.createObjectURL(v):le,alt:"img"})]}),Object(s.jsxs)("label",{className:"register-item__label",children:[Object(s.jsx)("input",{className:"register-item__file",type:"file",accept:"image/*",name:"tagImage",onChange:function(e){c({field:e.target.name,value:e.target.files[0]})}}),Object(s.jsx)("span",{className:"register-item__upload",children:"Upload image"}),Object(s.jsx)("span",{className:"register-item__max",children:"max file size 2mb"})]})]}),Object(s.jsxs)("div",{className:"edit-tag__tag",children:[Object(s.jsx)("div",{className:"table__item-tag table__item-tag--title edit-tag__title",children:"Tag ID"}),Object(s.jsxs)("label",{className:"label edit-tag__label",children:[Object(s.jsx)("input",{className:_?"input register-item__input-id register-item__input-id--active":"input register-item__input-id",type:"text",maxLength:"8",name:"tagId",value:O,onChange:E}),g&&Object(s.jsx)("div",{className:"input-error input-error--main ".concat(g.includes("Available")?"register-item__message":null),children:g}),o.tagId&&Object(s.jsx)("div",{"input-error":!0,children:o.tagId})]})]}),Object(s.jsxs)("label",{className:"label edit-tag__label",children:[Object(s.jsx)("span",{children:"Name"}),Object(s.jsx)("input",{className:"input edit-tag__input edit-tag__input--name",type:"text",name:"tagName",value:f,onChange:E}),o.tagName&&Object(s.jsx)("div",{className:"input-error",children:o.tagName})]})]}),Object(s.jsx)("div",{className:"edit-tag__switch edit-tag__switch--active",children:"Address Details"}),Object(s.jsx)("div",{className:"modal__content",children:Object(s.jsxs)("div",{className:"edit-tag__location",children:[Object(s.jsxs)("label",{className:"label edit-tag__label",children:[Object(s.jsx)("span",{children:"Address"}),Object(s.jsx)("input",{className:"input edit-tag__input edit-tag__input--address",type:"text",name:"address",value:w,onChange:E})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"City"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"city",value:A,onChange:E})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"State"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"userState",value:S,onChange:E})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"Country"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"country",value:C,onChange:E})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"ZIP code"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"zipCode",value:k||"",onChange:E})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"Phone Number"}),Object(s.jsx)(K.a,{required:"required",className:"input edit-tag__input",type:"tel",name:"phone",placeholder:"(123) 456 78 90 ",defaultCountry:"US",value:b,onChange:p}),o.phone&&Object(s.jsx)("div",{className:"input-error",children:o.phone})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"Email Address"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"email",name:"email",value:y,onChange:E}),o.email&&Object(s.jsx)("div",{className:"input-error",children:o.email})]})]})}),Object(s.jsx)("div",{className:"modal__footer",children:Object(s.jsx)("button",{disabled:!_,className:"button",type:"submit",children:"Update"})})]})]})},je=function(e){var t={};return e.tagName||(t.tagName="Tag Name is required"),e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email required",e.phone?/\+(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*(\d{1,2})$/.test(e.phone)||(t.phone="Phone number is invalid"):t.phone="Phone number required",e.tagImage&&e.tagImage.size>=1536e4&&(t.tagImage="Image file is too large"),t},be={tagId:"",tagName:"",tagImage:null,phone:"",email:"",address:"",city:"",country:"",zipCode:"",userState:"",status:"",isPrivate:""};function me(e,t){var a=t.field,s=t.value;return Object(o.a)(Object(o.a)({},e),{},Object(re.a)({},a,s))}var he=function(e){var t=e.data,a=Object(n.useReducer)(me,be),c=Object(l.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)({}),d=Object(l.a)(o,2),u=d[0],j=d[1],b=Object(n.useState)(""),m=Object(l.a)(b,2),h=m[0],p=m[1],O=r.tagId,_=r.tagName,g=r.tagImage,x=r.email,f=r.address,N=r.city,v=r.country,y=r.zipCode,w=r.userState;Object(n.useEffect)((function(){var e=function(e){return{tagId:e.tag_id,tagName:e.tag_name,tagImage:e.tag_image,email:e.email,address:e.address,city:e.city,country:e.country,zipCode:e.zip_code,userState:e.state,tagStatus:e.status,isPrivate:e.is_private}}(t);for(var a in p(t.phone),e)i({field:a,value:e[a]})}),[t]);var A=function(e){i({field:e.target.name,value:e.target.value})};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"edit-tag__switch",children:"Item Details"}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={tagId:O,tagName:_,tagImage:g,email:x,phone:h,address:f,city:N,country:v,zipCode:y,userState:w},a=je(t);0===Object.keys(a).length&&a.constructor===Object?S(O,t).then((function(e){e.ok&&window.location.reload()})):j(a)},autoComplete:"off",children:[Object(s.jsxs)("div",{className:"modal__content",children:[Object(s.jsxs)("div",{className:"register-item__box",children:[Object(s.jsxs)("div",{className:"register-item__img",children:[Object(s.jsx)("span",{children:"Add an Image"}),Object(s.jsx)("img",{src:g instanceof File?URL.createObjectURL(g):g?"/uploads/tag_image/".concat(g):null,alt:"img"})]}),Object(s.jsxs)("label",{className:"register-item__label",children:[Object(s.jsx)("input",{className:"register-item__file",type:"file",accept:"image/*",name:"tagImage",onChange:function(e){i({field:e.target.name,value:e.target.files[0]})}}),Object(s.jsx)("span",{className:"register-item__upload",children:"Upload image"}),Object(s.jsx)("span",{className:"register-item__max",children:"max file size 15 MB"})]})]}),u.tagImage&&Object(s.jsx)("div",{className:"input-error",children:u.tagImage}),Object(s.jsxs)("div",{className:"edit-tag__tag",children:[Object(s.jsx)("div",{className:"table__item-tag table__item-tag--title edit-tag__title",children:"Tag ID"}),Object(s.jsx)("div",{className:"table__item-tag edit-tag__name",children:O})]}),Object(s.jsxs)("label",{className:"label edit-tag__label",children:[Object(s.jsx)("span",{children:"Name"}),Object(s.jsx)("input",{className:"input edit-tag__input edit-tag__input--name",type:"text",name:"tagName",value:_,onChange:A}),u.tagName&&Object(s.jsx)("div",{className:"input-error",children:u.tagName})]})]}),Object(s.jsx)("div",{className:"edit-tag__switch edit-tag__switch--active",children:"Address Details"}),Object(s.jsx)("div",{className:"modal__content",children:Object(s.jsxs)("div",{className:"edit-tag__location",children:[Object(s.jsxs)("label",{className:"label edit-tag__label",children:[Object(s.jsx)("span",{children:"Address"}),Object(s.jsx)("input",{className:"input edit-tag__input edit-tag__input--address",type:"text",name:"address",value:f,onChange:A})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"City"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"city",value:N,onChange:A})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"State"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"userState",value:w,onChange:A})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"Country"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"country",value:v,onChange:A})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"ZIP code"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"zipCode",value:y||"",onChange:A})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"Phone Number"}),Object(s.jsx)(K.a,{required:"required",className:"input edit-tag__input",name:"phone",placeholder:"(123) 456 78 90",defaultCountry:"US",value:h,onChange:p}),u.phone&&Object(s.jsx)("div",{className:"input-error",children:u.phone})]}),Object(s.jsxs)("label",{className:"label edit-tag__label--input",children:[Object(s.jsx)("span",{children:"Email Address"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"email",name:"email",value:x,onChange:A}),u.email&&Object(s.jsx)("div",{className:"input-error",children:u.email})]})]})}),Object(s.jsx)("div",{className:"modal__footer",children:Object(s.jsx)("button",{className:"button",type:"submit",children:"Update"})})]})]})};var pe=function(e){var t=e.data.tag_id;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"modal__content",children:Object(s.jsxs)("div",{className:"delete-tag",children:[Object(s.jsxs)("div",{className:"delete-tag__message",children:["You are about to delete tag",Object(s.jsx)("span",{className:"table__item-tag delete-tag__tag",children:t}),"Do you want to continue?"]}),Object(s.jsx)("button",{className:"button delete-tag__button",onClick:function(e){return function(e,t){e.preventDefault(),E(t).then((function(e){if(!e.ok)throw new Error("An error occured while deleting tag id. Please contact support");return e.json()})).then((function(e){window.location.reload()})).catch((function(e){return alert(e.message)}))}(e,t)},children:"Delete Tag"})]})})})};var Oe=function(e){for(var t=e.rowPerPage,a=e.totalRows,n=e.paginate,c=e.currentPage,r=e.previousPage,i=e.nextPage,l=[],o=1;o<=Math.ceil(a/t);o++)l.push(o);return Object(s.jsx)("div",{className:"table__footer",children:Object(s.jsxs)("div",{className:"pagination",children:[Object(s.jsx)("button",{className:"pagination__arrow pagination__arrow--left",onClick:function(){return r()}}),Object(s.jsx)("ul",{className:"pagination__list",children:l.map((function(e){return Object(s.jsx)("li",{className:"pagination__item",children:Object(s.jsx)("span",{onClick:function(){return n(e)},className:e===c?"pagination__link pagination__link--active":"pagination__link",children:e})},e)}))}),Object(s.jsx)("button",{className:"pagination__arrow pagination__arrow--right",onClick:function(){return i()}})]})})};a(83);var _e=function(e){var t=e.data,a=Object(n.useState)([]),c=Object(l.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(1),d=Object(l.a)(o,2),u=d[0],j=d[1],b=Object(n.useState)(8),m=Object(l.a)(b,1)[0],h=u*m,p=h-m,O=r.slice(p,h);return Object(n.useEffect)((function(){x("/api/registered_tag/search_history/".concat(t.tag_id)).then((function(e){if(!e.ok)throw new Error("Could not identify tag ID. Please try again");return e.json()})).then((function(e){i(e)}))}),[t.tag_id]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"analytics",children:[Object(s.jsxs)("div",{className:"analytics__header",children:[Object(s.jsx)("span",{className:"table__item-tag delete-tag__tag",children:t.tag_id})," - ",t.tag_name]}),Object(s.jsxs)("div",{className:"analytics__table",children:[Object(s.jsxs)("div",{className:"analytics__table-header",children:[Object(s.jsx)("div",{className:"cell analytics__date",children:"Date"}),Object(s.jsx)("div",{className:"cell analytics__city",children:"City"}),Object(s.jsx)("div",{className:"cell analytics__zip",children:"Zip"}),Object(s.jsx)("div",{className:"cell analytics__ip",children:"IP"}),Object(s.jsx)("div",{className:"cell analytics__map",children:"Map"})]}),Object(s.jsx)("ul",{className:"analytics__table-rows",children:O.length>1?O.map((function(e,t){return Object(s.jsxs)("li",{className:"analytics__table-row",children:[Object(s.jsx)("div",{className:"cell analytics__date",children:e.date}),Object(s.jsx)("div",{className:"cell analytics__city",children:e.city}),Object(s.jsx)("div",{className:"cell analytics__zip",children:e.zip_code}),Object(s.jsx)("div",{className:"cell analytics__ip",children:e.ip_address}),Object(s.jsx)("div",{className:"cell analytics__map",children:Object(s.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://www.google.com/maps/search/?api=1&query=".concat(e.lat,",").concat(e.lon),className:"analytics__link",children:"map"})})]},"row".concat(t))})):Object(s.jsx)("div",{className:"analytics__table-row",children:"No searches results yet"})}),Object(s.jsx)(Oe,{rowPerPage:m,totalRows:r.length,paginate:function(e){j(e)},currentPage:u,previousPage:function(){u-1<=0||j(u-1)},nextPage:function(){u+1>Math.ceil(r.length/m)||j(u+1)}})]})]})})};var ge=function(e){var t=e.rows,a=e.loading,c=e.handleUpdate,r=Object(n.useState)({}),i=Object(l.a)(r,2),o=i[0],d=i[1],u=Object(n.useState)(),j=Object(l.a)(u,2),b=j[0],m=j[1],h=Object(n.useRef)(null),p=Object(n.useRef)(null),O=Object(n.useRef)(null);return a?Object(s.jsx)("h1",{children:"LOADING..."}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("ul",{className:"table__content",children:t.map((function(e){return Object(s.jsxs)("li",{className:"table__row",children:[Object(s.jsx)("div",{className:"table__item-img",children:Object(s.jsx)("img",{src:"/uploads/tag_image/".concat(e.tag_image),alt:"pet"})}),Object(s.jsx)("span",{className:"table__item-tag",children:e.tag_id}),Object(s.jsx)("span",{className:"table__item-name",children:e.tag_name}),Object(s.jsx)("div",{className:"table__item-email",children:Object(s.jsx)("span",{children:e.email})}),Object(s.jsx)("div",{className:"table__item-number",children:Object(s.jsx)("span",{children:e.phone})}),Object(s.jsx)("div",{className:"table__item-address",children:e.address}),Object(s.jsxs)("div",{className:"table__item-state",children:[Object(s.jsxs)("label",{className:"switch",children:[Object(s.jsx)("input",{className:"switch__input",type:"checkbox",checked:"enabled"===e.status,onChange:function(t){return function(e,t){e.preventDefault();var a="enabled"===t.status?"disabled":"enabled";S(t.tag_id,{tagStatus:a,isPrivate:t.is_private}).then((function(e){return e.json()})).then((function(e){c(e)}))}(t,e)}}),Object(s.jsx)("span",{className:"switch__slider"})]}),Object(s.jsx)("div",{children:e.is_private&&Object(s.jsx)("span",{className:"table__item-state--block"})})]}),Object(s.jsxs)("div",{className:b===e.tag_id?"table__item-actions table__item-actions--active":"table__item-actions",children:[Object(s.jsx)("button",{onMouseDown:function(t){return function(e,t){e.preventDefault(),d(t),O.current.open()}(t,e)},className:"table__item-btn table__item-btn--diagram",children:"analytics"}),Object(s.jsx)("button",{onMouseDown:function(t){return function(e,t){e.preventDefault(),d(t),h.current.open()}(t,e)},className:"table__item-btn table__item-btn--edit",children:"edit"}),Object(s.jsx)("button",{onMouseDown:function(t){return function(e,t){e.preventDefault();var a=!t.is_private;S(t.tag_id,{isPrivate:a}).then((function(e){return e.json()})).then((function(e){c(e)}))}(t,e)},className:"table__item-btn table__item-btn--lock",children:"lock"}),Object(s.jsx)("button",{onMouseDown:function(t){return function(e,t){e.preventDefault(),d(t),p.current.open()}(t,e)},className:"table__item-btn table__item-btn--delete",children:"delete"})]}),Object(s.jsx)("button",{className:b===e.tag_id?"dropdown dropdown--active":"dropdown",onClick:function(){return m(b?"":e.tag_id)},onBlur:function(){return m("")},children:"dropdown"})]},e.tag_id)}))}),Object(s.jsx)(Z,{header:"Delete tag",ref:p,children:Object(s.jsx)(pe,{data:o,handleUpdate:c})}),Object(s.jsx)(Z,{header:"Edit tag",ref:h,children:Object(s.jsx)(he,{data:o})}),Object(s.jsx)(Z,{header:"Tag search history",ref:O,children:Object(s.jsx)(_e,{data:o})})]})};a(84);var xe=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],d=i[1],u=Object(n.useState)([]),j=Object(l.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),O=p[0],_=p[1],g=Object(n.useState)(1),f=Object(l.a)(g,2),v=f[0],y=f[1],w=Object(n.useState)(8),A=Object(l.a)(w,1)[0],C=Object(n.useRef)(null);Object(n.useEffect)((function(){_(!0),x("/api/registered_tag/details").then((function(e){if(!e.ok)throw new Error("We could not authorize your request. Try log in to the system and try again");return e.json()})).then((function(e){e.message||c(e)})).catch((function(e){alert(e.message),N()})),_(!1)}),[]),Object(n.useEffect)((function(){if(a.length>1){var e=a.filter((function(e){return e.tag_name.toLowerCase().includes(o)||e.tag_id.toLowerCase().includes(o)}));e.length>0&&m(e)}else m(a)}),[o,a]);var k=v*A,S=k-A,I=b.slice(S,k);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("form",{className:"dashboard__search",children:[Object(s.jsxs)("div",{className:"dashboard__form",children:[Object(s.jsx)("input",{className:"input dashboard__input",type:"text",placeholder:"Search by tag ID, name",value:o,onChange:function(e){d(e.target.value.toLowerCase())}}),o&&Object(s.jsx)("button",{onClick:function(){d("")},className:"dashboard__input--clear",type:"button",children:"clear"})]}),Object(s.jsx)("button",{className:"button dashboard__btn",onClick:function(e){return function(e){e.preventDefault(),C.current.open()}(e)},children:"Add New Tag"})]}),Object(s.jsxs)("div",{className:"table",children:[Object(s.jsxs)("div",{className:"table__header",children:[Object(s.jsx)("div",{className:"table__item-img"}),Object(s.jsx)("div",{className:"table__item-tag table__item-tag--title",children:"tag id"}),Object(s.jsx)("div",{className:"table__item-name",children:"item name"}),Object(s.jsx)("div",{className:"table__item-email",children:"email"}),Object(s.jsx)("div",{className:"table__item-number",children:"number"}),Object(s.jsx)("div",{className:"table__item-address",children:"address"}),Object(s.jsx)("div",{className:"table__item-state table__item-state--title",children:"state"}),Object(s.jsx)("div",{className:"table__item-actions",children:"actions"})]}),Object(s.jsx)(ge,{rows:I,loading:O,handleUpdate:function(e){c(a.map((function(t){return t.tag_id===e.tag_id?e:t})))}}),Object(s.jsx)(Oe,{rowPerPage:A,totalRows:b.length,paginate:function(e){y(e)},currentPage:v,previousPage:function(){v-1<=0||y(v-1)},nextPage:function(){v+1>Math.ceil(b.length/A)||y(v+1)}})]}),Object(s.jsx)(Z,{header:"Add New Tag",ref:C,children:Object(s.jsx)(ue,{handleNewTag:function(e){C.current.close(),c([].concat(Object(ce.a)(a),[e]))}})})]})};a(85);var fe=function(e){var t=e.active,a=e.userData,c=e.handleTabChange,r=e.currentTab,i=e.handleSidebarActive,o=Object(n.useState)(!1),u=Object(l.a)(o,2),j=u[0],b=u[1],m=$e(),h=Object(l.a)(m,1)[0];return Object(n.useEffect)((function(){h.messages.length>=1&&(h.messages.filter((function(e){return!e.is_read||null})).length>=1?b(!0):b(!1))}),[h.messages]),Object(s.jsxs)("div",{className:t?"dashboard__nav dashboard__nav--active":"dashboard__nav",children:[Object(s.jsx)(d.b,{className:"logo-noword",to:"/",children:Object(s.jsx)("img",{src:se,alt:"logo"})}),t&&Object(s.jsx)("button",{className:"burger-btn burger-btn--active",onClick:i}),Object(s.jsxs)("ul",{className:"dashboard__tabs",children:[Object(s.jsx)("li",{className:"table"===r?"dashboard__tab dashboard__tab--dashboard dashboard__tab--active":"dashboard__tab dashboard__tab--dashboard",onClick:function(){return c("table")},children:"Dashboard"}),Object(s.jsx)("li",{className:"messages"===r?"dashboard__tab dashboard__tab--analytics dashboard__tab--active ".concat(j?"dashboard__tab--unread":""):"dashboard__tab dashboard__tab--analytics ".concat(j?"dashboard__tab--unread":""),onClick:function(){return c("messages")},children:"Messages"}),Object(s.jsx)("li",{className:"profile"===r?"dashboard__tab dashboard__tab--account dashboard__tab--active":"dashboard__tab dashboard__tab--account",onClick:function(){return c("profile")},children:"Account Settings"}),a.roles.includes("admin")&&Object(s.jsx)("li",{className:"dashboard__tab dashboard__tab--account",onClick:function(){x("/admin/auth",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){"ok"===e.status&&window.location.replace("/admin")}))},children:"Admin page"})]}),Object(s.jsxs)("div",{className:"dashboard__username",children:[Object(s.jsxs)("div",{className:"dashboard__profile",children:[Object(s.jsx)("div",{className:"dashboard__avatar",children:Object(s.jsx)("span",{children:function(e){var t=e.split(" "),a=t[0].substring(0,1).toUpperCase();return t.length>1&&(a+=t[t.length-1].substring(0,1).toUpperCase()),a}(a.fullName)})}),Object(s.jsxs)("div",{className:"dashboard__info",children:[Object(s.jsx)("div",{className:"dashboard__name",children:a.fullName}),Object(s.jsx)("div",{className:"dashboard__email",children:a.email})]})]}),Object(s.jsx)("button",{className:"dashboard__logout",onClick:N,children:"Logout"})]})]})},Ne=function(e){var t={};return e.firstName||(t.firstName="First Name is required"),e.lastName||(t.lastName="Last Name is required"),e.phone?/\+(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*(\d{1,2})$/.test(e.phone)||(t.phone="Phone number is invalid"):t.phone="Phone number required",t},ve={firstName:"",lastName:"",phone:"",address:"",city:"",country:"",zipCode:"",userState:""};function ye(e,t){var a=t.field,s=t.value;return Object(o.a)(Object(o.a)({},e),{},Object(re.a)({},a,s))}var we=function(e){var t=e.userData,a=Object(n.useReducer)(ye,ve),c=Object(l.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)({}),d=Object(l.a)(o,2),j=d[0],b=d[1],m=Object(n.useState)(""),h=Object(l.a)(m,2),p=(h[0],h[1]),O=Object(n.useState)(""),_=Object(l.a)(O,2),g=_[0],x=_[1],f=Object(u.g)(),v=r.firstName,y=r.lastName,w=r.address,A=r.city,C=r.country,k=r.zipCode,S=r.userState;Object(n.useEffect)((function(){var e,a={address:(e=t).address,city:e.city,country:e.country,zipCode:e.zipCode,userState:e.userState,firstName:e.firstName,lastName:e.lastName};for(var s in a)i({field:s,value:a[s]});x(t.phone)}),[t]);var I=function(e){i({field:e.target.name,value:e.target.value})};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("form",{className:"profile__form",onSubmit:function(e){e.preventDefault();var t={address:w,city:A,country:C,zipCode:k,userState:S,firstName:v,lastName:y,phone:g},a=Ne(t);0===Object.keys(a).length&&a.constructor===Object?q(t).then((function(e){if(!e.ok)throw new Error("ehm");return e.json()})).then((function(e){e.message&&window.location.reload(),e.error&&p(e.error)})).catch((function(e){return alert(e.message)})):b(a)},children:[Object(s.jsxs)("div",{className:"profile__form-group",children:[Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"First Name"}),Object(s.jsx)("input",{required:"required",className:"input edit-tag__input",type:"text",name:"firstName",value:v,onChange:I}),j.firstName&&Object(s.jsx)("div",{className:"input-error input-error--main",children:j.firstName})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Last Name"}),Object(s.jsx)("input",{required:"required",className:"input edit-tag__input",type:"text",name:"lastName",value:y,onChange:I}),j.lastName&&Object(s.jsx)("div",{className:"input-error input-error--main",children:j.lastName})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Phone Number"}),Object(s.jsx)(K.a,{required:"required",className:"input edit-tag__input",type:"tel",name:"phone",placeholder:"(123) 456 78 90 ",defaultCountry:"US",value:g,onChange:x}),j.phone&&Object(s.jsx)("div",{className:"input-error input-error--main",children:j.phone})]}),Object(s.jsxs)("label",{className:"label edit-tag__label",children:[Object(s.jsx)("span",{children:"Address"}),Object(s.jsx)("input",{className:"input edit-tag__input edit-tag__input--address",type:"text",name:"address",value:w,onChange:I})]})]}),Object(s.jsxs)("div",{className:"profile__form-group",children:[Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"City"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"city",value:A,onChange:I})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"State"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"userState",value:S,onChange:I})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Country"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"country",value:C,onChange:I})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"ZIP code"}),Object(s.jsx)("input",{className:"input edit-tag__input",type:"text",name:"zipCode",value:k,onChange:I})]})]}),Object(s.jsx)("button",{className:"button profile__form-submit",type:"submit",children:"Update"})]}),Object(s.jsxs)("div",{className:"profile__reset-password",children:[Object(s.jsx)("span",{className:"label",children:"Password:"}),Object(s.jsx)("button",{className:"button profile__reset-password-btn",type:"button",onClick:function(){window.confirm("Are you sure you want to reset password?")&&(N(),f.push("/auth/forgot_password"))},children:"Update password"})]})]})};var Ae=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),i=Object(l.a)(r,2),o=i[0],d=i[1],u=Object(n.useState)(1),j=Object(l.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)(8),p=Object(l.a)(h,1)[0],O=Object(n.useState)([]),_=Object(l.a)(O,2),g=_[0],f=_[1],v=$e(),y=Object(l.a)(v,2),w=y[0],A=y[1],C=document.documentElement.clientWidth>=640;Object(n.useEffect)((function(){if(w.messages.length>=1){var e=w.messages.filter((function(e){return e.name.toLowerCase().includes(a)||e.tag.toLowerCase().includes(a)}));e.length>0&&d(e.reverse())}else d(w.messages.reverse())}),[a,w.messages]);var k=b*p,S=k-p,I=o.slice(S,k);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("form",{className:"dashboard__search",children:Object(s.jsxs)("div",{className:"dashboard__form",children:[Object(s.jsx)("input",{className:"input dashboard__input",type:"text",placeholder:"",value:a,onChange:function(e){c(e.target.value.toLowerCase())}}),a&&Object(s.jsx)("button",{onClick:function(){c("")},className:"dashboard__input--clear",type:"button",children:"clear"})]})}),Object(s.jsxs)("div",{className:"table",children:[Object(s.jsxs)("div",{className:"table__header table__header--msg",children:[Object(s.jsx)("div",{className:"table__item-tag table__item-tag--title",children:"tag id"}),Object(s.jsx)("div",{className:"table__item-message",children:"Message"}),Object(s.jsx)("div",{className:"table__item-date",children:"Date"})]}),Object(s.jsxs)("ul",{className:"table__rows",children:[0===I.length&&Object(s.jsx)("span",{className:"table__row",style:{textAlign:"center"},children:"No new messages..."}),I&&I.map((function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("li",{className:"table__row table__row--msg",onClick:function(){return function(e){g.includes(e.id)?f((function(t){var a=Object(ce.a)(t),s=a.indexOf(e.id);return-1!==s&&t.splice(s,1),a})):f((function(t){var a=Object(ce.a)(t);return a.push(e.id),a})),e.is_read||x("/api/registered_tag/messages/".concat(e.id),{method:"POST"}).then((function(e){if(!e.ok)throw new Error("We could not authorize your request. Try log in to the system and try again");return e.json()})).then((function(e){if(!e.message){var t=w.messages.map((function(t){return t.id===e.id?e:t}));A({type:"UPDATE_MESSAGES",payload:t})}})).catch((function(e){alert(e.message),N()}))}(e)},children:[Object(s.jsx)("span",{className:"table__item-tag",children:e.tag}),Object(s.jsx)("span",{className:e.is_read?"table__item-message":"table__item-message table__item-message--unread",style:{fontWeight:e.is_read?"":"bold"},children:"".concat(e.is_read?"":"NEW MESSAGE - "," ").concat(e.text)}),Object(s.jsx)("span",{className:"table__item-date",children:e.date})]},e.id),g.includes(e.id)&&Object(s.jsxs)("div",{className:"table__row table__row--inner",style:{boxShadow:g.includes(e.id)?"none":"0px -1px 0px #dfdfdf, 0px 1px 0px #dfdfdf;"},children:[C&&Object(s.jsx)("div",{className:"table__item-tag table__item-tag--title"}),Object(s.jsxs)("div",{className:"table__item-message",children:[Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{children:"From"}),": ",e.name]}),Object(s.jsx)("span",{children:Object(s.jsx)("a",{className:"analytics__link",rel:"noreferrer",target:"_blank",href:"https://www.google.com/maps/search/?api=1&query=".concat(e.lat,",").concat(e.lon),style:{textDecoration:"underline"},children:"Location"})})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:"Tel"}),": ",Object(s.jsx)("a",{href:"tel:".concat(e.phone_number),children:e.phone_number})]}),Object(s.jsxs)("div",{className:"table__item-inner",children:[Object(s.jsx)("strong",{children:"Message"}),": ",Object(s.jsx)("br",{})," ",e.text]})]}),C&&Object(s.jsx)("div",{className:"table__item-date"})]})]})}))]}),Object(s.jsx)(Oe,{rowPerPage:p,totalRows:o.length,paginate:function(e){m(e)},currentPage:b,previousPage:function(){b-1<=0||m(b-1)},nextPage:function(){b+1>Math.ceil(o.length/p)||m(b+1)}})]})]})},Ce=(a(86),{desktop:{breakpoint:{max:3e3,min:1024},items:4,slidesToSlide:2},tablet:{breakpoint:{max:1024,min:464},items:2,slidesToSlide:2},mobile:{breakpoint:{max:464,min:0},items:1,slidesToSlide:1}});var ke=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)("table"),i=Object(l.a)(r,2),o=i[0],d=i[1],u=Object(n.useState)(!1),j=Object(l.a)(u,2),b=j[0],p=j[1],O=Object(n.useState)([]),_=Object(l.a)(O,2),g=_[0],f=_[1],v=$e(),y=Object(l.a)(v,2),w=(y[0],y[1]),A=function(){p(!b)};return Object(n.useEffect)((function(){x("/api/auth/get_user_data").then((function(e){if(!e.ok)throw new Error("We could not authorize your request. Try log in to the system and try again");return e.json()})).then((function(e){var t=function(e){return{fullName:e.full_name?e.full_name:"",phone:e.phone?e.phone:"",email:e.email?e.email:"",address:e.address?e.address:"",city:e.city?e.city:"",country:e.country?e.country:"",zipCode:e.zip_code?e.zip_code:"",userState:e.state?e.state:"",firstName:e.first_name?e.first_name:"",lastName:e.last_name?e.last_name:"",roles:e.roles?e.roles:""}}(e);c(t)})).catch((function(e){alert(e.message),N()})),x("/api/registered_tag/messages").then((function(e){if(!e.ok)throw new Error("We could not authorize your request. Try log in to the system and try again");return e.json()})).then((function(e){e.message||w({type:"UPDATE_MESSAGES",payload:e})})).catch((function(e){alert(e.message),N()}))}),[]),Object(n.useEffect)((function(){(function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/merchandize").then((function(e){return e.json()})).then((function(e){return f(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(s.jsxs)("section",{className:"dashboard",children:[a&&Object(s.jsx)(fe,{active:b,userData:a,handleTabChange:function(e){d(e)},handleSidebarActive:A,currentTab:o}),Object(s.jsxs)("div",{className:"dashboard__content",children:[Object(s.jsxs)("div",{className:"dashboard__inner",children:[Object(s.jsxs)("div",{className:"dashboard__box",children:[Object(s.jsx)("button",{className:"burger-btn",onClick:A,children:"Sidebar Button"}),Object(s.jsx)("span",{className:"title dashboard__title",children:"Dashboard"})]}),"table"===o&&Object(s.jsx)(xe,{}),"messages"===o&&Object(s.jsx)(Ae,{}),"profile"===o&&Object(s.jsx)(we,{userData:a})]}),Object(s.jsxs)("div",{className:"buy-tags",children:[Object(s.jsxs)("div",{className:"buy-tags__top",children:[Object(s.jsx)("span",{className:"title buy-tags__title",children:"Buy Tags"}),Object(s.jsx)("a",{className:"tags__more buy-tags__more",href:"https://shop.tracereturn.com",children:"See all"})]}),Object(s.jsx)(F.a,{containerClass:"buy-tags__content",responsive:Ce,infinite:!0,arrows:!1,autoPlaySpeed:7e3,autoPlay:!0,children:g.map((function(e){return Object(s.jsx)("div",{class:"tag-card",children:Object(s.jsxs)("div",{class:"tag-card__top",children:[Object(s.jsx)("div",{class:"tag-card__img",children:Object(s.jsx)("img",{src:e.imgUrl,alt:"tag"})}),Object(s.jsxs)("div",{class:"tag-card__details",children:[Object(s.jsx)("span",{class:"tag-card__title",children:e.title}),Object(s.jsxs)("button",{class:"tag-card__btn",type:"button",children:["$",e.price]})]}),Object(s.jsx)("span",{class:"tag-card__desc",children:e.subtitle}),Object(s.jsx)("a",{href:e.url,className:"tag-link",children:" "})]})},e.id)}))})]})]})]})},Se=function(e){var t={};return e.oldPassword||(t.oldPassword="Old password is required"),e.newPassword?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,15}$/.test(e.newPassword)||(t.newPassword="Password should be between 8 and 15 characters, contain at least one uppercase letter, special character and digit"):t.newPassword="New password is required",t};var Ie=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],j=i[1],b=Object(u.h)().token,m=g(),h=Object(l.a)(m,1)[0],p=Object(n.useState)({}),O=Object(l.a)(p,2),_=O[0],x=O[1],N=Object(n.useState)(),v=Object(l.a)(N,2),y=v[0],w=v[1],A=Object(u.g)();return h&&A.push("/dashboard"),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d.b,{className:"full-logo",to:"/",children:Object(s.jsx)("img",{src:se,alt:"full logo"})}),Object(s.jsxs)("section",{className:"set-password",children:[Object(s.jsx)("span",{className:"title auth__title",children:"Set Your Password"}),Object(s.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault();var t={oldPassword:a,newPassword:o,token:b},s=Se(t);0===Object.keys(s).length&&s.constructor===Object?fetch("/api/auth/verify",{method:"post",body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw new Error("We were unable to authorise your account. This might be caused by a server error. Please contact support to resolve this issue");return e.json()})).then((function(e){e.access_token&&f(e)})).catch((function(e){return w(e.message)})):x(s)},children:[Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Old Password"}),Object(s.jsx)("input",{className:"input auth__input",name:"oldPassword",type:"password",onChange:function(e){c(e.target.value)},value:a}),_.oldPassword&&Object(s.jsx)("div",{className:"input-error input-error--main",children:_.oldPassword})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"New Password"}),Object(s.jsx)("input",{className:"input auth__input",name:"newPassword",type:"password",onChange:function(e){j(e.target.value)},value:o}),_.newPassword&&Object(s.jsx)("div",{className:"input-error input-error--main",children:_.newPassword})]}),y&&Object(s.jsx)("div",{className:"input-error input-error--main",children:y}),Object(s.jsx)("button",{className:"button set-password__btn",type:"submit",children:"Change Password"})]})]}),Object(s.jsx)("div",{className:"go-home",children:Object(s.jsx)("small",{children:Object(s.jsx)(d.b,{className:"go-home__link",to:"/",children:"Cancel and back to home"})})})]})},Ee=(a(87),{tagIdMessage:"",tagIdIsValid:!1,currentStep:1,tagId:"",tagName:"",tagImage:null,firstName:"",lastName:"",phone:"",email:"",address:"",city:"",country:"",zipCode:"",userState:""});function Pe(e,t){var a=t.field,s=t.value;return Object(o.a)(Object(o.a)({},e),{},Object(re.a)({},a,s))}var Te=function(){var e=Object(n.useReducer)(Pe,Ee),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({}),i=Object(l.a)(r,2),o=i[0],u=i[1],j=$e(),b=Object(l.a)(j,1)[0],p=Object(n.useState)(""),O=Object(l.a)(p,2),_=O[0],g=O[1],x=Object(n.useState)(""),f=Object(l.a)(x,2),N=f[0],w=f[1],A=Object(n.useState)(""),C=Object(l.a)(A,2),k=C[0],S=C[1],I=a.tagIdMessage,E=a.tagIdIsValid,P=a.currentStep,T=a.tagId,q=a.tagName,D=a.tagImage,W=a.firstName,R=a.lastName,U=a.email,B=a.address,M=a.city,z=a.country,F=a.zipCode,V=a.userState;Object(n.useEffect)((function(){b.registerTagId&&c({field:"tagId",value:b.registerTagId})}),[b.registerTagId]);var Q=function(e){c({field:e.target.name,value:e.target.value})};return Object(n.useEffect)((function(){T.length>=3?function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/tag-id-lookup/".concat(T.toUpperCase())).then((function(e){return e.json()})).then((function(e){return e.message}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){c({field:"tagIdMessage",value:e}),"Available"===e&&c({field:"tagIdIsValid",value:!0})})):(c({field:"tagIdIsValid",value:!1}),c({field:"tagIdMessage",value:""}))}),[T]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d.b,{className:"full-logo",to:"/",children:Object(s.jsx)("img",{src:se,alt:"full logo"})}),3!==P?Object(s.jsxs)("ul",{className:"breadcrumbs",children:[Object(s.jsx)("li",{className:"breadcrumbs__item ".concat(2===P?"breadcrumbs__item--active":null),onClick:function(){return c({field:"currentStep",value:1})},children:"Register item"}),Object(s.jsx)("li",{className:"breadcrumbs__item",children:"Create Account"})]}):null,1===P&&Object(s.jsxs)("section",{className:"register-item",children:[Object(s.jsxs)("span",{className:"steps",children:["step ",P," / 2"]}),Object(s.jsx)("span",{className:"title register-item__title",children:"Register Item"}),Object(s.jsx)("span",{className:"register-item__subtitle",children:"Add basic details about the item"}),Object(s.jsxs)("form",{className:"register-item__form",action:"#",autoComplete:"off",children:[Object(s.jsxs)("div",{className:"register-item__box",children:[Object(s.jsxs)("div",{className:"register-item__img",children:[Object(s.jsx)("span",{children:"Add an Image"}),Object(s.jsx)("img",{src:D?URL.createObjectURL(D):le,alt:"img"})]}),Object(s.jsxs)("label",{className:"register-item__label",children:[Object(s.jsx)("input",{className:"register-item__file",type:"file",accept:"image/*",name:"tagImage",onChange:function(e){c({field:e.target.name,value:e.target.files[0]})}}),Object(s.jsx)("span",{className:"register-item__upload",children:"Upload image"}),Object(s.jsx)("span",{className:"register-item__max",children:"max file size 15 MB"})]})]}),o.tagImage&&Object(s.jsx)("div",{className:"input-error",children:o.tagImage}),Object(s.jsxs)("label",{className:"label label__tag-id",children:[Object(s.jsx)("span",{children:"Tag ID"}),Object(s.jsx)("input",{className:E?"input register-item__input-id register-item__input-id--active":"input register-item__input-id",type:"text",maxLength:"8",name:"tagId",value:T,onChange:Q}),I&&Object(s.jsx)("div",{className:"input-error input-error--main ".concat(I.includes("Available")?"register-item__message":null),children:I}),o.tagId&&Object(s.jsx)("div",{className:"input-error input-error--main",children:o.tagId})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Item Name"}),Object(s.jsx)("input",{className:"input register-item__input",type:"text",name:"tagName",value:q,onChange:Q}),o.tagName&&Object(s.jsx)("div",{className:"input-error",children:o.tagName})]}),Object(s.jsx)("button",{disabled:!E,className:"button register-item__btn",type:"button",onClick:function(){var e=function(e){var t={};return e.tagId||(t.tagId="Tag ID is required"),e.tagName||(t.tagName="Tag Name is required"),e.tagImage&&e.tagImage.size>=1536e4&&(t.tagImage="Image file is too large"),t}({tagId:T,tagName:q,tagImage:D});0===Object.keys(e).length&&e.constructor===Object?1===P&&c({field:"currentStep",value:2}):u(e)},children:"Next"})]})]}),2===P&&Object(s.jsxs)("section",{className:"create-account",children:[Object(s.jsxs)("span",{className:"steps",children:[" step ",P," / 2 "]}),Object(s.jsx)("span",{className:"title",children:" Create Account "}),Object(s.jsx)("span",{className:"register-item__subtitle",children:" Add personal details about you "}),Object(s.jsxs)("form",{className:"create-account__form",action:"#",autoComplete:"off",children:[Object(s.jsxs)("div",{className:"create-account__name",children:[Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"First Name"}),Object(s.jsx)("input",{required:"required",className:"input create-account__input",type:"text",name:"firstName",value:W,onChange:Q}),o.firstName&&Object(s.jsx)("div",{className:"input-error",children:o.firstName})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Last Name"}),Object(s.jsx)("input",{required:"required",className:"input create-account__input",type:"text",name:"lastName",value:R,onChange:Q}),o.lastName&&Object(s.jsx)("div",{className:"input-error",children:o.lastName})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Phone Number"}),Object(s.jsx)(K.a,{required:"required",className:"input create-account__input",type:"tel",name:"phone",placeholder:"(123) 456 78 90 ",defaultCountry:"US",value:N,onChange:w}),o.phone&&Object(s.jsx)("div",{className:"input-error",children:o.phone})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Email Address"}),Object(s.jsx)("input",{required:"required",className:"input create-account__input",type:"email",name:"email",value:U,onChange:Q}),o.email&&Object(s.jsx)("div",{className:"input-error",children:o.email})]})]}),Object(s.jsxs)("div",{className:"create-account__location",children:[Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Address"}),Object(s.jsx)("input",{className:"input create-account__input--address",type:"text",name:"address",value:B,onChange:Q})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"City"}),Object(s.jsx)("input",{className:"input create-account__input",type:"text",name:"city",value:M,onChange:Q})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"State"}),Object(s.jsx)("input",{className:"input create-account__input",type:"text",name:"userState",value:V,onChange:Q})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Country"}),Object(s.jsx)("input",{className:"input create-account__input",type:"text",name:"country",value:z,onChange:Q})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"ZIP code"}),Object(s.jsx)("input",{className:"input create-account__input",type:"text",name:"zipCode",value:F,onChange:Q})]})]}),_&&Object(s.jsx)("div",{className:"input-error input-error--main",children:_}),Object(s.jsxs)("div",{className:"create-account__bottom",children:[Object(s.jsx)("button",{className:"button create-account__btn",type:"submit",onClick:function(e){e.preventDefault();var t=function(e){var t={};return e.firstName||(t.firstName="First Name is required"),e.lastName||(t.lastName="Last Name is required"),e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email required",e.phone?/\+(9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*\d\W*(\d{1,2})$/.test(e.phone)||(t.phone="Phone number is invalid"):t.phone="Phone number required",t}({firstName:W,lastName:R,phone:N,email:U});0===Object.keys(t).length&&t.constructor===Object?v(T,q,D,W,R,N,U,B,M,z,F,V).then((function(e){if(!e.ok)throw new Error("Internal server error. Please try again or contact support for help");return e.json()})).then((function(e){e.error&&g(e.error),e.confirmed&&(localStorage.setItem("confirmation_pending",U),c({field:"currentStep",value:3}))})).catch((function(e){return alert(e)})):u(t)},children:"Signup & Register"}),Object(s.jsxs)("span",{className:"create-account__login",children:["Already have an account? ",Object(s.jsx)(d.b,{to:"/login",children:"Login"})]})]})]})]}),3===P&&Object(s.jsxs)("section",{className:"password-notify",children:[Object(s.jsx)("span",{className:"title password-notify__title",children:"Set your password"}),Object(s.jsxs)("p",{className:"password-notify__text",children:["You need to set a password. We have sent you a link at ",U,"."]}),Object(s.jsx)("button",{onClick:function(){y(U).then((function(e){if(!e.ok)throw new Error("Internal server error. Please try again or contact support for help");return e.json()})).then((function(e){e.error&&g(e.error),e.message&&S(e.message)})).catch((function(e){return alert(e)}))},className:"password-notify__link",children:"Resend Link"}),k&&Object(s.jsx)("div",{className:"password-notify__resend",children:k})]}),Object(s.jsx)("div",{className:"go-home",children:Object(s.jsx)(d.b,{className:"go-home__link",to:"/",children:"Cancel and back to home"})})]})},qe=(a(88),a.p+"static/media/twitter.a52b2bd1.svg"),De=a.p+"static/media/instagram.436e9c09.svg",We=a.p+"static/media/linkedin.c757863e.svg",Re=a.p+"static/media/facebook.0e23f86a.svg",Ue=a.p+"static/media/youtube.1f616d75.svg";var Be=function(){return Object(s.jsxs)("footer",{className:"footer",children:[Object(s.jsx)("div",{className:"full-logo",children:Object(s.jsx)("img",{src:se,alt:"full logo"})}),Object(s.jsxs)("ul",{className:"footer__social",children:[Object(s.jsx)("li",{className:"footer__social-item",children:Object(s.jsx)(d.b,{className:"footer__social-link",to:"/",children:Object(s.jsx)("img",{src:qe,alt:"twitter"})})}),Object(s.jsx)("li",{className:"footer__social-item",children:Object(s.jsx)(d.b,{className:"footer__social-link",to:"/",children:Object(s.jsx)("img",{src:De,alt:"instagram"})})}),Object(s.jsx)("li",{className:"footer__social-item",children:Object(s.jsx)(d.b,{className:"footer__social-link",to:"/",children:Object(s.jsx)("img",{src:We,alt:"linkedin"})})}),Object(s.jsx)("li",{className:"footer__social-item",children:Object(s.jsx)(d.b,{className:"footer__social-link",to:"/",children:Object(s.jsx)("img",{src:Re,alt:"facebook"})})}),Object(s.jsx)("li",{className:"footer__social-item",children:Object(s.jsx)(d.b,{className:"footer__social-link",to:"/",children:Object(s.jsx)("img",{src:Ue,alt:"youtube"})})})]}),Object(s.jsxs)("ul",{className:"footer__nav",children:[Object(s.jsx)("li",{className:"footer__item",children:Object(s.jsx)(d.b,{className:"footer__link",to:"/about",children:"About"})}),Object(s.jsx)("li",{className:"footer__item",children:Object(s.jsx)(d.b,{className:"footer__link",to:"/contact-us",children:"Contact us"})}),Object(s.jsx)("li",{className:"footer__item",children:Object(s.jsx)(d.b,{className:"footer__link",to:"/terms-and-conditions",children:"Terms"})})]})]})},Me=a(42),ze=function(e){var t=e.component,a=Object(Me.a)(e,["component"]),n=g(),c=Object(l.a)(n,1)[0];return Object(s.jsx)(u.b,Object(o.a)(Object(o.a)({},a),{},{render:function(e){return c?Object(s.jsx)(t,Object(o.a)({},e)):Object(s.jsx)(u.a,{to:"/login"})}}))},Fe=function(e){var t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email required",t};var Ve=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],j=i[1],b=Object(n.useState)(""),m=Object(l.a)(b,2),h=m[0],p=m[1],O=g(),_=Object(l.a)(O,1)[0],x=Object(n.useState)({}),f=Object(l.a)(x,2),N=f[0],v=f[1],y=Object(u.g)();return _&&y.push("/dashboard"),Object(n.useEffect)((function(){0===a.length&&p("")}),[a]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"full-logo",children:Object(s.jsx)("img",{src:se,alt:"full logo"})}),!o&&Object(s.jsxs)("section",{className:"set-password",children:[Object(s.jsx)("span",{className:"title auth__title",children:"Request password reset"}),Object(s.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault();var t=Fe({email:a});0===Object.keys(t).length&&t.constructor===Object?P(a).then((function(e){if(!e.ok)throw new Error("Sorry, this email is not associated with any account");return e.json()})).then((function(e){j(e.message)})).catch((function(e){return p(e.message)})):v(t)},children:[Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Email"}),Object(s.jsx)("input",{className:"input auth__input",name:"email",type:"email",onChange:function(e){c(e.target.value)},value:a}),N.email&&Object(s.jsx)("div",{className:"input-error",children:N.email}),h&&Object(s.jsx)("div",{className:"input-error input-error--main",children:h})]}),Object(s.jsx)("button",{className:"button set-password__btn",type:"submit",children:"Reset Password"})]})]}),o&&Object(s.jsxs)("div",{className:"password-notify",children:[Object(s.jsx)("span",{className:"title password-notify__title",children:"Password reset"}),Object(s.jsx)("p",{className:"password-notify__text",children:o})]}),Object(s.jsx)("div",{className:"go-home",children:Object(s.jsx)("small",{children:Object(s.jsx)(d.b,{className:"go-home__link",to:"/",children:"Cancel and back to home"})})})]})},Qe=function(e){var t={};return e.password?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,15}$/.test(e.password)||(t.password="Password should be between 8 and 15 characters, contain at least one uppercase letter, special character and digit"):t.password="Password is required",e.passwordConfirmation?e.password!==e.passwordConfirmation&&(t.passwordConfirmation="Passwords do not match. Check your input and try again"):t.passwordConfirmation="Password confirmation is required",t};var Le=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],j=i[1],b=Object(n.useState)({}),m=Object(l.a)(b,2),h=m[0],p=m[1],O=Object(n.useState)(),_=Object(l.a)(O,2),x=_[0],N=_[1],v=Object(u.h)().token,y=g(),w=Object(l.a)(y,1)[0],A=Object(u.g)();return w&&A.push("/dashboard"),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d.b,{className:"full-logo",to:"/",children:Object(s.jsx)("img",{src:se,alt:"full logo"})}),Object(s.jsxs)("section",{className:"set-password",children:[Object(s.jsx)("span",{className:"title auth__title",children:"Set Your New Password"}),Object(s.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault();var t=Qe({password:a,passwordConfirmation:o});0===Object.keys(t).length&&t.constructor===Object?T(a,o,v).then((function(e){if(!e.ok)throw new Error("We were unable to validate your token: token is invalid or expired. Request a new token and try again");return e.json()})).then((function(e){e.access_token&&f(e)})).catch((function(e){return N(e.message)})):p(t)},children:[Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Password"}),Object(s.jsx)("input",{className:"input auth__input",name:"password",type:"password",onChange:function(e){c(e.target.value)},value:a}),h.password&&Object(s.jsx)("div",{className:"input-error input-error--main",children:h.password})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Confirm password"}),Object(s.jsx)("input",{className:"input auth__input",name:"passwordConfirmation",type:"password",onChange:function(e){j(e.target.value)},value:o}),h.passwordConfirmation&&Object(s.jsx)("div",{className:"input-error input-error--main",children:h.passwordConfirmation})]}),x&&Object(s.jsx)("div",{className:"input-error input-error--main",children:x}),Object(s.jsx)("button",{className:"button set-password__btn",type:"submit",children:"Set New Password"})]})]}),Object(s.jsx)("div",{className:"go-home",children:Object(s.jsx)("small",{children:Object(s.jsx)(d.b,{className:"go-home__link",to:"/",children:"Cancel and back to home"})})})]})};var He=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(""),r=Object(l.a)(c,2),i=r[0],o=r[1],j=g(),b=Object(l.a)(j,1)[0],m=Object(u.g)();b&&m.push("/dashboard");var h=localStorage.getItem("confirmation_pending");return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"full-logo",children:Object(s.jsx)("img",{src:se,alt:"full logo"})}),Object(s.jsxs)("section",{className:"password-notify",children:[Object(s.jsx)("span",{className:"title password-notify__title",children:"Confirm your account"}),Object(s.jsxs)("p",{className:"password-notify__text",children:["You need to confirm your account a password. Check your inbox at ",h,". Alternatively, you can request a new confirmation email by pressing a button below"]}),Object(s.jsx)("button",{onClick:function(){y(h).then((function(e){if(!e.ok)throw new Error("Internal server error. Please try again or contact support for help");return e.json()})).then((function(e){e.error&&a(e.error),e.message&&o(e.message)})).catch((function(e){return alert(e)}))},className:"password-notify__link",children:"Resend confirmation link"}),i&&Object(s.jsx)("div",{className:"password-notify__resend",children:i})]}),Object(s.jsx)("div",{className:"go-home",children:Object(s.jsx)(d.b,{className:"go-home__link",to:"/",children:"Cancel and back to home"})})]})};a(89);var Je=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"about",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{children:"Welcome to the Trace & Return website!"}),Object(s.jsx)("p",{children:"We are here to connect the lost and found with an extraordinary, easy to use and impressively fast service. We created Trace & Return because we know more than 8 million pets are lost every year, and then you can add millions upon millions of other items like phones, computers, tablets, keys and personal products."}),Object(s.jsxs)("p",{children:["With Trace & Return, you get a tag and sticker that you can use on the products or pets you want to keep safe. You just add the tag/sticker to your pet and then add it to the website. Whenever someone finds your item, they see the sticker and they can immediately contact you via the website."," "]}),Object(s.jsxs)("p",{children:["It\u2019s a simple way to make the Lost and Found experience digital, and it eliminates concerns. There are way too many pets and items lost nowadays, and that can be a very uncomfortable, challenging experience. With help from, Trace & Return you get to have access to an amazing, immersive and unique experience that you just can\u2019t find anywhere else on the market."," "]}),Object(s.jsxs)("p",{children:["This is a seamless service that makes it easy for you to get the item back by encouraging people to call you whenever you lose an item. It\u2019s a great, unique idea and it manages to push the boundaries when it comes to human connectivity and the need to provide great results and an amazing value."," "]}),Object(s.jsx)("p",{children:"If you want to keep your items safe and prevent situations when you lose them randomly, don\u2019t hesitate and give the Trace & Return services a try. We make it easy for you to identify the location of your items, while also eliminating any worries. Plus, if someone finds your lost items, they will know where to find you or contact you directly. Trace & Return is here to make the lost and found experience faster, digital and more seamless, so check it out today!"})]})})})},Ge=function(e){var t={};return e.name||(t.name="Name is required"),e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email is required",e.message||(t.message="Message text is required"),e.recaptcha||(t.recaptcha="Please confirm you are not a robot"),t},Ze=(a(90),{name:"",email:"",message:""});function Ke(e,t){var a=t.field,s=t.value;return Object(o.a)(Object(o.a)({},e),{},Object(re.a)({},a,s))}var Ye=function(){var e=Object(n.useReducer)(Ke,Ze),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({}),i=Object(l.a)(r,2),o=i[0],d=i[1],u=Object(n.useState)(""),j=Object(l.a)(u,2),b=j[0],m=j[1],h=a.name,p=a.email,O=a.message,_=a.recaptcha,g=function(e){c({field:e.target.name,value:e.target.value})};return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"contact-us",children:[Object(s.jsx)("span",{className:"title register-item__title",children:"Contact Us"}),Object(s.jsxs)("form",{className:"create-account__form",onSubmit:function(e){e.preventDefault();var t=Ge(a);0===Object.keys(t).length&&t.constructor===Object&&_?k(h,p,O).then((function(e){if(e.error)throw Error(e.error);"ok"===e.status&&(m("You message has been sent!"),d({}))})).catch((function(e){return alert(e)})):d(t)},autoComplete:"off",children:[Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Name"}),Object(s.jsx)("input",{required:"required",className:"input input contact-owner__input",type:"text",name:"name",value:h,onChange:g}),o.name&&Object(s.jsx)("div",{className:"input-error",children:o.name})]}),Object(s.jsxs)("label",{className:"label",children:[Object(s.jsx)("span",{children:"Email"}),Object(s.jsx)("input",{required:"required",className:"input input contact-owner__input",type:"email",name:"email",value:p,onChange:g}),o.email&&Object(s.jsx)("div",{className:"input-error",children:o.email})]}),Object(s.jsxs)("label",{className:"label contact-owner__label",children:[Object(s.jsx)("span",{children:"Message"}),Object(s.jsx)("textarea",{className:"textarea contact-owner__textarea",name:"message",value:O,onChange:g})]}),o.message&&Object(s.jsx)("div",{className:"input-error",children:o.message}),Object(s.jsx)("div",{className:"contact-us__recaptcha",children:Object(s.jsx)(H.a,{sitekey:"6Lf3IUAaAAAAAERWg-zwGVTCAyVdEiBZtuEbjjAx",onChange:function(e){c({field:"recaptcha",value:e})}})}),o.recaptcha&&Object(s.jsx)("div",{className:"input-error",children:o.recaptcha}),Object(s.jsx)("button",{className:"button",type:"submit",children:"Send Message"}),b&&Object(s.jsx)("div",{className:"contac-owner__confirmation",children:b})]})]})})})},Xe=(a(91),Object(n.createContext)(null));function $e(){return Object(n.useContext)(Xe)}var et={location:null,registerTagId:"",messages:[]};function tt(e,t){switch(t.type){case"UPDATE_LOCATION":return Object(o.a)(Object(o.a)({},e),{},{location:t.payload});case"REGISTER_TAG_ID":return Object(o.a)(Object(o.a)({},e),{},{registerTagId:t.payload});case"UPDATE_MESSAGES":return Object(o.a)(Object(o.a)({},e),{},{messages:t.payload});default:return e}}var at=function(){var e=Object(n.useReducer)(tt,et),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(j.usePosition)(),i=r.latitude,b=r.longitude;return Object(n.useEffect)((function(){w().then((function(e){c({type:"UPDATE_LOCATION",payload:e})}))}),[]),Object(n.useEffect)((function(){if(i||b){var e=Object(o.a)({},a.location);e.latitude=i,e.longitude=b,c({type:"UPDATE_LOCATION",payload:e})}}),[i,b]),Object(s.jsx)(Xe.Provider,{value:[a,c],children:Object(s.jsx)(d.a,{basename:"/",children:Object(s.jsxs)(u.d,{children:[Object(s.jsxs)(u.b,{path:"/contact-us",exact:!0,children:[Object(s.jsx)(U,{}),Object(s.jsx)(Ye,{}),Object(s.jsx)(Be,{})]}),Object(s.jsx)(u.b,{path:"/terms-and-conditions",exact:!0,children:"Terms and conditions page coming soon"}),Object(s.jsxs)(u.b,{path:"/about",exact:!0,children:[Object(s.jsx)(U,{}),Object(s.jsx)(Je,{}),Object(s.jsx)(Be,{})]}),Object(s.jsx)(u.b,{path:"/login",exact:!0,children:Object(s.jsx)(ne,{})}),Object(s.jsx)(u.b,{path:"/register_tag",exact:!0,children:Object(s.jsx)(Te,{})}),Object(s.jsx)(u.b,{path:"/activate_your_account",exact:!0,children:Object(s.jsx)(He,{})}),Object(s.jsx)(u.b,{path:"/auth/set_password/:token",exact:!0,children:Object(s.jsx)(Ie,{})}),Object(s.jsx)(ze,{path:"/dashboard",component:ke,exact:!0}),Object(s.jsx)(u.b,{path:"/auth/forgot_password",exact:!0,children:Object(s.jsx)(Ve,{})}),Object(s.jsx)(u.b,{path:"/auth/reset_password/:token",children:Object(s.jsx)(Le,{})}),Object(s.jsxs)(u.b,{path:"/:tagIdFromRequest?",children:[Object(s.jsx)(U,{}),Object(s.jsx)(ae,{}),Object(s.jsx)(Be,{})]})]})})})};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(at,{})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.d258320e.chunk.js.map